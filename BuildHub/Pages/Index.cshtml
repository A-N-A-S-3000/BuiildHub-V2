@page
@model BuildHub.Pages.IndexModel
@{
    ViewData["Title"] = "Welcome";
    Layout = "/Pages/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-8 mx-auto">

        <div class="text-center mb-4">
            <h1 class="mb-2">Welcome to <span class="text-primary">BuildHub</span></h1>
            <p class="text-muted">A simple demo: homeowners post projects, companies show past work, then bid. The user picks a winner and a contract is created.</p>
        </div>

        @await Html.PartialAsync("_Flash")

        <!-- What this app does -->
        <div class="card mb-3">
            <div class="card-body">
                <h4 class="card-title">What is this app?</h4>
                <p class="mb-2">This is a very simple marketplace:</p>
                <ul class="mb-0">
                    <li><b>Homeowner</b> adds a project (location, floors, Kroki number).</li>
                    <li><b>Company</b> adds past projects (portfolio) to build trust.</li>
                    <li><b>Open a broker request</b> so companies can place bids.</li>
                    <li><b>Select a bid</b> and the app creates a simple contract.</li>
                </ul>
            </div>
        </div>

        <!-- How to use -->
        <div class="card mb-3">
            <div class="card-body">
                <h4 class="card-title">How to use (quick steps)</h4>
                <ol class="mb-0">
                    <li>Go to <b>Projects</b> then click <i>New Project</i> and fill the form.</li>
                    <li>Go to <b>Companies</b> then create a company then add its <i>Past Projects</i>.</li>
                    <li>Go to <b>Open Request</b> then enter the project public id then open it.</li>
                    <li>Go to <b>Request Details</b> then place one or more bids (from companies).</li>
                    <li>Click <b>Select</b> on a bid then a contract will be created.</li>
                </ol>
            </div>
        </div>

        <!-- Quick links -->
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Start here</h4>
                <div class="d-flex flex-wrap gap-2">
                    <a class="btn btn-primary" asp-page="/Projects/Index">Projects</a>
                    <a class="btn btn-outline-primary" asp-page="/Companies/Index">Companies & Past Projects</a>
                    <a class="btn btn-outline-success" asp-page="/Requests/Open">Open Broker Request</a>
                    <a class="btn btn-outline-dark" asp-page="/Bids/Create"> Place Bid</a>
                    <a class="btn btn-outline-secondary" asp-page="/Contracts/ByProject" asp-route-projectPublicId="123">View Contracts (example)</a>
                </div>
                <p class="text-muted mt-2">
                    Tip: After you open a request, visit <b>Request Details</b> to see bids and select a winner.
                </p>
            </div>
        </div>

        <!-- Notes -->
        <p class="text-muted small mt-3">
            Note: This demo stores data in memory (lists). If the app restarts, data resets. No database yet.
        </p>

    </div>
</div>
